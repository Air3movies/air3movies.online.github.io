<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Movie Streaming Website - Movies</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <header>
        <h1>Movies</h1>
        <a href="index.html">Back to Home</a>
    </header>

    <!-- Filter box for alphabets and genres -->
    <div class="filter-box">
        <button class="filter-btn" onclick="filterMovies('All')">All</button>
        <button class="filter-btn" onclick="filterMovies('A')">A</button>
        <button class="filter-btn" onclick="filterMovies('B')">B</button>
        <!-- Add other alphabet buttons as needed -->
        <button class="filter-btn" onclick="filterMovies('Action')">Action</button>
        <button class="filter-btn" onclick="filterMovies('Drama')">Drama</button>
        <!-- Add other genre buttons as needed -->
    </div>

    <!-- Search bar -->
    <div class="search-container">
        <input type="text" id="searchInput" placeholder="Search for movies..." onkeyup="searchMovies()">
    </div>

    <main>
        <ul class="movie-list">
            <!-- Movie titles with embedded players will be dynamically generated here -->
        </ul>
    </main>

    <footer>
        <p>&copy; 2024 AIR3MOVIES Streaming Website. All rights reserved.</p>
    </footer>
    
    <script>
        document.addEventListener("DOMContentLoaded", function() {
            // Array of movie data with title, URL, image URL, and genre
            var movies = [
                { 
                    title: "Monkey Man (2024)", 
                    url: "https://drive.google.com/file/d/1a-a3a3bBPBTNuUnxDCjoIOPK4U6yyWlW/view?usp=drive_link", 
                    imageUrl: "/Movies/Monkey.Man.(2024)/Monkey.Man.(2024)_1.jpg",
                    genre: "Action"
                },
                { 
                    title: "Mother of the Bride (2024)", 
                    url: "https://drive.google.com/file/d/1wzZxIfVoFKW_kK5C-JMmX6YN7YecjxUX/preview", 
                    imageUrl: "/Movies/Mother.of.the.Bride.(2024)/Mother.of.the.Bride.(2024)_1.jpg",
                    genre: "Drama"
                },
                // Add more movie objects as needed
            ];

            var movieList = document.querySelector('.movie-list');

            // Function to embed Google Drive video using iframe
            function embedVideo(url) {
                return `
                    <div class="video-wrapper">
                        <button class="close-btn" onclick="closeVideo(this)">X</button>
                        <iframe src="${url}" width="560" height="315" frameborder="0" allowfullscreen></iframe>
                    </div>
                `;
            }

            // Function to render movies
            function renderMovies(movies) {
                movieList.innerHTML = '';
                movies.forEach(function(movie) {
                    var listItem = document.createElement('li');
                    listItem.classList.add('movie-item');
                    listItem.innerHTML = `
                        <h2>${movie.title}</h2>
                        <div class="video-container" style="display: none;">
                            ${embedVideo(movie.url)}
                        </div>
                        <img src="${movie.imageUrl}" alt="${movie.title}" onclick="playMovie(this)">
                    `;
                    movieList.appendChild(listItem);
                });
            }

            // Initial rendering of movies
            renderMovies(movies);

            // Function to filter movies by alphabet or genre
            function filterMovies(filter) {
                var filteredMovies = movies.filter(function(movie) {
                    if (filter === 'All') return true;
                    if (filter.length === 1) return movie.title.charAt(0).toUpperCase() === filter;
                    return movie.genre === filter;
                });
                renderMovies(filteredMovies);
            }

            // Function to search movies by title
            function searchMovies() {
                var input = document.getElementById('searchInput').value.toLowerCase();
                var filteredMovies = movies.filter(function(movie) {
                    return movie.title.toLowerCase().includes(input);
                });
                renderMovies(filteredMovies);
            }

            // Function to play movie
            function playMovie(imgElement) {
                var videoContainer = imgElement.nextElementSibling;
                videoContainer.style.display = 'block';
            }

            // Function to close video
            function closeVideo(btnElement) {
                var videoWrapper = btnElement.parentElement;
                videoWrapper.parentElement.style.display = 'none';
            }
        });
    </script>
</body>
</html>
<script>
    document.addEventListener("DOMContentLoaded", function() {
        // Existing code...

        // Load stored movies from local storage
        var storedMovies = JSON.parse(localStorage.getItem('movies')) || [];
        if (storedMovies.length > 0) {
            movies = movies.concat(storedMovies);
            renderMovies(movies);
        }

        // Existing functions...
    });
</script>
